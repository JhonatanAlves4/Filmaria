(this.webpackJsonpfilmaria=this.webpackJsonpfilmaria||[]).push([[0],{36:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(14),r=c.n(a),i=c(8),o=c(2),l=c(12),j=c.n(l),u=c(15),b=c(9),f=(c(36),c(29)),d=c.n(f).a.create({baseURL:"https://sujeitoprogramador.com"}),m=c(1);function O(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.get("r-api/?api=filmes");case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"lista-filmes",children:c.map((function(e){return Object(m.jsxs)("article",{children:[Object(m.jsx)("strong",{children:e.nome}),Object(m.jsx)("img",{src:e.foto,alt:e.nome}),Object(m.jsx)(i.b,{to:"/filme/".concat(e.id),children:"Acessar"})]},e.id)}))})})}c(61);function h(){return Object(m.jsxs)("header",{children:[Object(m.jsx)(i.b,{className:"logo",to:"/",children:"Filmaria"}),Object(m.jsx)(i.b,{className:"favoritos",to:"/favoritos",children:"Salvos"})]})}c(62);var x=c(10);function p(){var e=Object(o.g)().id,t=Object(o.f)(),c=Object(n.useState)([]),s=Object(b.a)(c,2),a=s[0],r=s[1],i=Object(n.useState)(!0),l=Object(b.a)(i,2),f=l[0],O=l[1];return Object(n.useEffect)((function(){function c(){return(c=Object(u.a)(j.a.mark((function c(){var n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,d.get("r-api/?api=filmes/".concat(e));case 2:if(0!==(n=c.sent).data.length){c.next=6;break}return t.replace("/"),c.abrupt("return");case 6:r(n.data),O(!1);case 8:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return function(){c.apply(this,arguments)}(),function(){console.log("Componente desmontado")}}),[t,e]),f?Object(m.jsx)("div",{className:"filme-info",children:Object(m.jsx)("h2",{children:"Carregando seu filme, aguarde..."})}):Object(m.jsxs)("div",{className:"filme-info",children:[Object(m.jsx)("h1",{children:a.nome}),Object(m.jsx)("img",{src:a.foto,alt:a.nome}),Object(m.jsx)("h3",{children:"Sinopse"}),a.sinopse,Object(m.jsxs)("div",{className:"botoes",children:[Object(m.jsx)("button",{onClick:function(){var e=localStorage.getItem("filmes"),t=JSON.parse(e)||[];t.some((function(e){return e.id===a.id}))?x.b.warn("Voc\xea j\xe1 possui esse filme salvo"):(t.push(a),localStorage.setItem("filmes",JSON.stringify(t)),x.b.success("Filme salvo com sucesso!"))},className:"btnSalvar",children:"Salvar"}),Object(m.jsx)("button",{children:Object(m.jsx)("a",{target:"blank",href:"https://youtube.com/results?search_query=".concat(a.nome," Trailer"),children:"Trailer"})})]})]})}c(63);function v(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("filmes");s(JSON.parse(e)||[])}),[]),Object(m.jsxs)("div",{id:"meus-filmes",children:[Object(m.jsx)("h1",{children:"Meus Filmes"}),0===c.length&&Object(m.jsx)("span",{children:"Voc\xea n\xe3o possui nenhum filme salvo :C"}),Object(m.jsx)("ul",{children:c.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{children:e.nome}),Object(m.jsxs)("div",{children:[Object(m.jsx)(i.b,{to:"/filme/".concat(e.id),children:"Ver detalhes"}),Object(m.jsx)("button",{onClick:function(){return function(e){var t=c.filter((function(t){return t.id!==e}));s(t),localStorage.setItem("filmes",JSON.stringify(t)),x.b.success("Filme excluido com sucesso!")}(e.id)},children:"Excluir"})]})]},e.id)}))})]})}function g(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Error 404 :/"}),Object(m.jsx)("p",{children:"Voc\xea acessou uma p\xe1gina que n\xe3o existe."})]})}var S=function(){return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(h,{}),Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{exact:!0,path:"/",component:O}),Object(m.jsx)(o.a,{exact:!0,path:"/filme/:id",component:p}),Object(m.jsx)(o.a,{exact:!0,path:"/favoritos",component:v}),Object(m.jsx)(o.a,{path:"*",component:g})]})]})};c(64),c(65);function N(){return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(S,{}),Object(m.jsx)(x.a,{autoClose:3e3})]})}r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.378b0918.chunk.js.map