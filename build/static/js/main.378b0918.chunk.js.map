{"version":3,"sources":["Services/api.js","Pages/Home/index.js","Components/Header/index.js","Pages/Filme/index.js","Pages/Favoritos/index.js","Pages/NotFound/notFound.js","routes.js","App.js","index.js"],"names":["api","axios","create","baseURL","Home","useState","filmes","setFilmes","useEffect","a","get","response","data","loadFilmes","className","map","filme","nome","src","foto","alt","to","id","Header","Filme","useParams","history","useHistory","setFilme","loading","setLoading","length","replace","loadFilme","console","log","sinopse","onClick","minhaLista","localStorage","getItem","filmesSalvos","JSON","parse","some","filmeSalvo","toast","warn","push","setItem","stringify","success","target","href","Favoritos","item","filtroFilmes","filter","handleDelete","NotFound","Routes","exact","path","component","App","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.378b0918.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n//Base URL\r\n//https://sujeitoprogramador.com/\r\n\r\n//r-api/?api=filmes (Todos os filmes)\r\n\r\n//r-api/?api=filmes/123 (Filme com id 123)\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://sujeitoprogramador.com'\r\n})\r\n\r\nexport default api;","import { useEffect, useState } from 'react';\r\nimport './home.css';\r\nimport api from '../../Services/api';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nexport default function Home() {\r\n\r\n    const [filmes, setFilmes] = useState([]);\r\n\r\n    useEffect(() => {\r\n      async function loadFilmes() {\r\n        const response = await api.get('r-api/?api=filmes');\r\n        \r\n        setFilmes(response.data)\r\n      }\r\n\r\n      loadFilmes();\r\n    }, [])\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"lista-filmes\">\r\n          {filmes.map((filme) => {\r\n            return(\r\n              <article key={filme.id}>\r\n                <strong>{filme.nome}</strong>\r\n                <img src={filme.foto} alt={filme.nome}/>\r\n                <Link to={`/filme/${filme.id}`}>Acessar</Link>\r\n              </article>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import './header.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header>\r\n            <Link className=\"logo\" to=\"/\">Filmaria</Link>\r\n            <Link className=\"favoritos\" to=\"/favoritos\">Salvos</Link>\r\n        </header>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport './filme-info.css'\r\nimport { useParams, useHistory} from 'react-router-dom';\r\nimport '../../Services/api';\r\nimport api from '../../Services/api';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function Filme() {\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n    const [filme, setFilme] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n\r\n        async function loadFilme(){\r\n            const response = await api.get(`r-api/?api=filmes/${id}`)\r\n            \r\n            if(response.data.length === 0){\r\n                //Tentou acessar com um id que não existe\r\n                history.replace(\"/\");\r\n                return;\r\n            }\r\n\r\n            setFilme(response.data);\r\n            setLoading(false)\r\n        }\r\n\r\n        loadFilme();\r\n\r\n        return() => {\r\n            console.log(\"Componente desmontado\")\r\n        }\r\n\r\n    }, [history ,id]);\r\n\r\n    function salvaFilme() {\r\n        \r\n        const minhaLista = localStorage.getItem('filmes');\r\n\r\n        let filmesSalvos = JSON.parse(minhaLista) || [];\r\n\r\n        //Se tiver algum filme salvo com o mesmo id, precisa ignorar...\r\n        const hasFilme = filmesSalvos.some((filmeSalvo) => filmeSalvo.id === filme.id)\r\n\r\n        if(hasFilme) {\r\n            toast.warn(\"Você já possui esse filme salvo\")\r\n            return;//para a execução aqui...\r\n        }\r\n\r\n        filmesSalvos.push(filme);\r\n        localStorage.setItem('filmes', JSON.stringify(filmesSalvos));\r\n        toast.success(\"Filme salvo com sucesso!\")\r\n    }\r\n\r\n    if(loading){\r\n        return(\r\n            <div className=\"filme-info\">\r\n               <h2>Carregando seu filme, aguarde...</h2>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className=\"filme-info\">\r\n            <h1>{filme.nome}</h1>\r\n            <img src={filme.foto} alt={filme.nome}/>\r\n\r\n            <h3>Sinopse</h3>\r\n            {filme.sinopse}\r\n\r\n            <div className=\"botoes\">\r\n                <button onClick={ salvaFilme } className=\"btnSalvar\">Salvar</button>\r\n                <button>\r\n                    <a target=\"blank\" href={`https://youtube.com/results?search_query=${filme.nome} Trailer`}>\r\n                        Trailer\r\n                    </a>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './favoritos.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function Favoritos() {\r\n    const [filmes, setFilmes] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        const minhaLista = localStorage.getItem('filmes');\r\n        setFilmes(JSON.parse(minhaLista) || []);\r\n    }, []);\r\n\r\n    function handleDelete(id) {\r\n        let filtroFilmes = filmes.filter((item) => {\r\n            return(item.id !== id)\r\n        })\r\n\r\n        setFilmes(filtroFilmes);\r\n        localStorage.setItem('filmes', JSON.stringify(filtroFilmes));\r\n        toast.success('Filme excluido com sucesso!');\r\n    }\r\n\r\n    return(\r\n        <div id=\"meus-filmes\">\r\n            <h1>Meus Filmes</h1>\r\n\r\n            {filmes.length === 0 && <span>Você não possui nenhum filme salvo :C</span>}\r\n\r\n            <ul>\r\n                {filmes.map((item) => {\r\n                    return(\r\n                        <li key={item.id}>\r\n                            <span>{item.nome}</span>\r\n                            <div>\r\n                                <Link to={`/filme/${item.id}`}>Ver detalhes</Link>\r\n                                <button onClick={ () => handleDelete(item.id) }>Excluir</button>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n        </div>\r\n    )\r\n}","\r\n\r\nexport default function NotFound() {\r\n\r\n    return(\r\n        <div>\r\n            <h1>Error 404 :/</h1>\r\n            <p>Você acessou uma página que não existe.</p>\r\n        </div>\r\n    );\r\n}","import { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport Home from './Pages/Home';\r\nimport Header from './Components/Header';\r\nimport Filme from './Pages/Filme';\r\nimport Favoritos from './Pages/Favoritos'\r\nimport NotFound from './Pages/NotFound/notFound';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n        <Header/>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home}/>\r\n                <Route exact path=\"/filme/:id\" component={Filme}/>\r\n                <Route exact path=\"/favoritos\" component={Favoritos} />\r\n                <Route path=\"*\" component={NotFound} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\nexport default Routes;\r\n","import Routes from './routes';\nimport './styles.css'\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer } from 'react-toastify';\n\n//https://sujeitoprogramador.com/r-api/?api=filmes || API Filmes\n\nexport default function App() {\n  return (\n    <div className='app'>\n      <Routes/>\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}